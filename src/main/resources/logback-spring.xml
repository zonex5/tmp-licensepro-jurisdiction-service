<?xml version="1.0" encoding="UTF-8"?>
<configuration>

  <appender name="CONSOLE_LOGGER" class="ch.qos.logback.core.ConsoleAppender">
    <encoder>
      <pattern>%d{yyyy-MM-dd HH:mm:ss} [%level] [%thread] %logger{36} - %msg%n</pattern>
    </encoder>
  </appender>

  <appender name="CLOUD_LOGGER" class="com.google.cloud.logging.logback.LoggingAppender">
    <enhancer>com.google.cloud.logging.TraceLoggingEnhancer</enhancer>
    <autoPopulateMetadata>true</autoPopulateMetadata>
    <redirectToStdout>true</redirectToStdout>
  </appender>

  <logger name="com.licensepro" level="INFO"/>

  <springProfile name="!dev">
    <root level="INFO">
      <appender-ref ref="CLOUD_LOGGER"/>
    </root>
  </springProfile>

  <springProfile name="dev">
    <logger name="org.hibernate.SQL" level="INFO"/>
    <root level="INFO">
      <appender-ref ref="CONSOLE_LOGGER"/>
    </root>
  </springProfile>

</configuration>
